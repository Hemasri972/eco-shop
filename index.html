<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Eco Shop — Responsive Product Grid (HTML + CSS + JS)</title>
<meta name="description" content="Practice: responsive product grid with Add to Cart functionality (HTML/CSS/JS)." />
<style>
  :root{
    --bg: #f6f6f4;
    --card:#ffffff;
    --muted:#6b7280;
    --accent:#1f6feb;
    --success:#10b981;
    --shadow: 0 6px 18px rgba(16,24,40,0.08);
    --radius:14px;
    --max-width:1180px;
    --gap:20px;
    --text:#111827;
    font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  }

  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0;
    background:linear-gradient(180deg,var(--bg),#f2f4f3);
    color:var(--text);
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
    padding:28px;
    display:flex;
    justify-content:center;
  }

  .container{
    width:100%;
    max-width:var(--max-width);
  }

  /* Header */
  header{
    display:flex;
    align-items:center;
    justify-content:space-between;
    gap:16px;
    margin-bottom:22px;
  }
  .brand{
    display:flex;
    gap:12px;
    align-items:center;
  }
  .logo{
    width:46px;height:46px;border-radius:10px;
    background:linear-gradient(135deg,#e7f8ef,#dff3e5);
    display:flex;align-items:center;justify-content:center;
    border:1px solid rgba(0,0,0,0.04);
    font-weight:700;color:var(--success)
  }
  .nav{
    display:flex;
    gap:18px;
    align-items:center;
    font-size:0.95rem;
  }
  .search{
    flex:1;
    display:flex;
    justify-content:center;
    margin-left:16px;
  }
  .search input{
    width:100%;
    max-width:420px;
    padding:10px 14px;
    border-radius:10px;
    border:1px solid rgba(16,24,40,0.06);
    background:white;
  }

  .cart-btn{
    background:#fff;border:1px solid rgba(16,24,40,0.06);
    padding:8px 12px;border-radius:10px;
    display:inline-flex;align-items:center;gap:10px;cursor:pointer;
    box-shadow:var(--shadow);
  }
  .cart-count{
    background:var(--success);color:white;padding:3px 8px;border-radius:999px;font-weight:600;font-size:0.85rem;
  }

  /* Hero */
  .hero{
    background:linear-gradient(180deg, rgba(255,255,255,0.7), rgba(255,255,255,0.9));
    padding:34px;
    border-radius:14px;
    margin-bottom:18px;
    box-shadow:var(--shadow);
  }
  .hero h1{
    margin:0;font-size:1.8rem;line-height:1.05;
    text-align:center;font-weight:700;
  }
  .hero p{margin:8px 0 0 0;color:var(--muted);text-align:center}

  /* Controls row */
  .controls{
    display:flex;
    gap:12px;
    align-items:center;
    justify-content:space-between;
    margin:18px 0;
    flex-wrap:wrap;
  }
  .tabs{display:flex;gap:12px;flex-wrap:wrap}
  .tab{
    padding:8px 12px;border-radius:999px;background:transparent;border:1px solid transparent;
    cursor:pointer;font-weight:600;color:var(--muted);
  }
  .tab.active{background:var(--card);border-color:rgba(16,24,40,0.05);box-shadow:var(--shadow);color:var(--text)}

  .filters{
    display:flex;gap:8px;align-items:center;
  }
  .filters select, .filters button{
    padding:8px 12px;border-radius:10px;border:1px solid rgba(16,24,40,0.06);background:white;
  }

  /* Grid */
  .main{
    display:grid;
    grid-template-columns: 1fr 320px;
    gap:var(--gap);
    align-items:start;
  }

  /* Product area */
  .products{
    background:transparent;
    padding:10px;
  }

  .grid{
    display:grid;
    grid-template-columns:repeat(3,1fr);
    gap:18px;
  }

  .card{
    background:var(--card);
    border-radius:12px;
    padding:14px;
    box-shadow:var(--shadow);
    display:flex;flex-direction:column;gap:10px;
    transition:transform .16s ease, box-shadow .16s ease;
  }
  .card:hover{transform:translateY(-6px)}
  .media{
    height:160px;border-radius:10px;background:#f8faf9;border:1px dashed rgba(16,24,40,0.03);
    display:flex;align-items:center;justify-content:center;overflow:hidden;
  }
  .media img{max-height:100%;max-width:100%;object-fit:contain}
  .meta{display:flex;justify-content:space-between;align-items:flex-start;gap:8px}
  .meta h3{margin:0;font-size:0.98rem}
  .price{font-weight:700}
  .tag{font-size:0.75rem;padding:6px 8px;border-radius:999px;background:#eef7f1;color:var(--success);font-weight:700}

  .card .desc{color:var(--muted);font-size:0.9rem;min-height:32px}
  .card .actions{display:flex;gap:10px;align-items:center;margin-top:auto}
  .btn{
    padding:9px 12px;border-radius:10px;border:0;background:var(--accent);color:white;font-weight:700;cursor:pointer;
    display:inline-flex;gap:8px;align-items:center;
  }
  .btn.secondary{background:transparent;border:1px solid rgba(16,24,40,0.06);color:var(--text);font-weight:600}

  /* Sidebar cart */
  .cart{
    background:var(--card);padding:16px;border-radius:12px;box-shadow:var(--shadow);
    height:fit-content;position:relative;
  }
  .cart h4{margin:0 0 8px 0}
  .cart .item{display:flex;gap:12px;align-items:center;padding:10px 0;border-bottom:1px dashed rgba(16,24,40,0.05)}
  .cart .item img{width:56px;height:56px;border-radius:8px;object-fit:contain}
  .cart .qty{display:flex;gap:6px;align-items:center}
  .icon-btn{border-radius:8px;padding:6px;border:1px solid rgba(16,24,40,0.06);background:white;cursor:pointer}

  .cart .totals{display:flex;justify-content:space-between;margin-top:10px;font-weight:700}
  .checkout{margin-top:12px;display:flex;gap:8px}
  .checkout .btn{flex:1}

  /* Mobile behavior */
  @media (max-width:980px){
    .main{grid-template-columns:1fr; }
    .grid{grid-template-columns:repeat(2,1fr)}
    .cart{order:2}
  }
  @media (max-width:640px){
    body{padding:14px}
    .grid{grid-template-columns:repeat(1,1fr)}
    .search{display:none}
    header{flex-wrap:wrap;gap:12px}
    .cart{display:none} /* hide desktop cart - mobile opens drawer */
  }

  /* small details */
  .badge{font-size:0.75rem;padding:6px 8px;border-radius:999px;background:#f1f5f9;color:var(--muted)}
  .muted{color:var(--muted)}
  .sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
  footer{margin-top:28px;color:var(--muted);font-size:0.9rem;text-align:center}
</style>
</head>
<body>
  <div class="container" id="app">
    <header>
      <div class="brand" aria-label="brand and navigation">
        <div class="logo" aria-hidden="true">HB</div>
        <div>
          <div style="font-weight:800">THE HUMBLE CO.</div>
          <div class="muted" style="font-size:0.86rem">Natural & planet-friendly</div>
        </div>
      </div>

      <nav class="nav" aria-label="main navigation">
        <button class="tab active" data-cat="all">All Products</button>
        <button class="tab" data-cat="bamboo">Bamboo</button>
        <button class="tab" data-cat="toothpaste">Toothpaste</button>
        <button class="tab" data-cat="floss">Floss</button>
      </nav>

      <div class="search" role="search">
        <input id="q" type="search" placeholder="Search products, e.g. toothpaste" aria-label="Search products">
      </div>

      <div style="display:flex;gap:12px;align-items:center">
        <div class="badge">Free shipping over €40</div>
        <button class="cart-btn" id="openCart" aria-controls="cartSidebar" aria-expanded="false" title="Open cart">
          Cart <span class="cart-count" id="cartCount">0</span>
        </button>
      </div>
    </header>

    <main>
      <section class="hero" aria-label="hero">
        <h1>Shop environment<br/>friendly quality goods</h1>
        <p>Clean, plant-based essentials for everyday personal care.</p>
      </section>

      <div class="controls">
        <div class="tabs" role="tablist" aria-label="product categories">
          <!-- category buttons are same as header nav -->
        </div>

        <div class="filters">
          <label for="sort" class="sr-only">Sort products</label>
          <select id="sort" aria-label="Sort products">
            <option value="featured">Featured</option>
            <option value="price-asc">Price: low → high</option>
            <option value="price-desc">Price: high → low</option>
          </select>
          <button id="clearFilters" class="secondary">Clear</button>
        </div>
      </div>

      <div class="main" role="region" aria-label="products and cart">
        <section class="products" aria-label="product list">
          <div class="grid" id="productGrid" aria-live="polite">
            <!-- product cards inserted by JS -->
          </div>
        </section>

        <aside class="cart" id="cartSidebar" aria-label="shopping cart" tabindex="-1">
          <h4>Shopping cart</h4>
          <div id="cartItems">
            <p class="muted">Your cart is empty — add items to get started.</p>
          </div>

          <div class="totals" id="cartTotals" style="display:none">
            <div>Subtotal</div>
            <div id="subtotal">€0.00</div>
          </div>

          <div class="checkout" id="cartActions" style="display:none">
            <button class="btn" id="checkoutBtn">Checkout</button>
            <button class="btn secondary" id="clearCartBtn">Clear</button>
          </div>
        </aside>
      </div>

      <!-- Mobile cart drawer (hidden on desktop) -->
      <div id="mobileCartDrawer" style="display:none;position:fixed;right:12px;bottom:12px;z-index:40">
        <button class="cart-btn" id="mobileOpen">Cart <span class="cart-count" id="mobileCount">0</span></button>
      </div>

    </main>

    <footer>
      Built for practice — HTML + CSS revision. Responsive and accessible components.
    </footer>
  </div>

<script>
/*
  Sample product data. Each product has:
  img:'assets/images/product1.jpg'

*/
const PRODUCTS = [
  {id:'p1', title:'Toothbrush Adult', price:11.99, category:'bamboo', img:'assets/images/product1.jpg', badge:'New'},
  {id:'p2', title:'Natural Toothpaste', price:3.99, category:'toothpaste', img:'assets/images/product2.jpg'},
  {id:'p3', title:'Natural Chewing Gum', price:2.99, category:'floss', img:'assets/images/product3.jpg'},
  {id:'p4', title:'Plant-based Toothbrush', price:4.49, category:'bamboo', img:'assets/images/product4.jpg'},
  {id:'p5', title:'Toothbrush Heads Pack', price:11.99, category:'bamboo', img:'assets/images/product5.jpg'},
  {id:'p6', title:'Mouthwash', price:14.99, category:'toothpaste', img:'assets/images/product6.jpg'}
];


// Simple currency formatter
const fmt = n => '€' + n.toFixed(2);

// Cart management using localStorage for persistence
const CART_KEY = 'practice_cart_v1';
function loadCart(){ try{ return JSON.parse(localStorage.getItem(CART_KEY)) || {}; }catch(e){return {};}}
function saveCart(cart){ localStorage.setItem(CART_KEY, JSON.stringify(cart)); }

let cart = loadCart();

// DOM elements
const productGrid = document.getElementById('productGrid');
const cartCount = document.getElementById('cartCount');
const mobileCount = document.getElementById('mobileCount');
const cartItems = document.getElementById('cartItems');
const cartTotals = document.getElementById('cartTotals');
const subtotalEl = document.getElementById('subtotal');
const cartActions = document.getElementById('cartActions');
const openCartBtn = document.getElementById('openCart');
const mobileOpenBtn = document.getElementById('mobileOpen');

// Render products into the grid
function renderProducts(list = PRODUCTS){
  productGrid.innerHTML = '';
  list.forEach(p => {
    const card = document.createElement('article');
    card.className = 'card';
    card.innerHTML = `
      <div class="media" aria-hidden="true"><img src="${p.img}" alt=""></div>
      <div class="meta">
        <h3>${p.title}</h3>
        <div class="price">${fmt(p.price)}</div>
      </div>
      <div class="desc muted">Plant-based formula • eco friendly packaging</div>
      <div class="actions">
        <button class="btn add" data-id="${p.id}" aria-label="Add ${p.title} to cart">Add to cart</button>
        <button class="btn secondary" data-id="${p.id}" aria-label="View ${p.title}">View</button>
      </div>
    `;
    productGrid.appendChild(card);
  });
  attachAddHandlers();
}

// Attach event listeners to Add to cart buttons
function attachAddHandlers(){
  document.querySelectorAll('.add').forEach(btn => {
    btn.addEventListener('click', (e) => {
      const id = e.currentTarget.dataset.id;
      addToCart(id, 1);
    });
  });
}

// Add item to cart
function addToCart(id, qty=1){
  cart[id] = (cart[id]||0) + qty;
  saveCart(cart);
  renderCart();
  announce(`${qty} item added to cart`);
}

// Remove item entirely
function removeFromCart(id){
  delete cart[id];
  saveCart(cart);
  renderCart();
}

// Change quantity (can be negative delta)
function changeQty(id, delta){
  if(!cart[id]) return;
  cart[id] += delta;
  if(cart[id] <= 0) delete cart[id];
  saveCart(cart);
  renderCart();
}

function getCartItems(){
  return Object.keys(cart).map(id => {
    const prod = PRODUCTS.find(p=>p.id===id);
    return Object.assign({}, prod, {qty: cart[id]});
  });
}

function renderCart(){
  const items = getCartItems();
  const count = items.reduce((s,i)=>s+i.qty,0);
  cartCount.textContent = count;
  mobileCount.textContent = count;

  if(items.length === 0){
    cartItems.innerHTML = '<p class="muted">Your cart is empty — add items to get started.</p>';
    cartTotals.style.display = 'none';
    cartActions.style.display = 'none';
    return;
  }

  cartItems.innerHTML = '';
  let subtotal = 0;
  items.forEach(it => {
    subtotal += it.price * it.qty;
    const el = document.createElement('div');
    el.className = 'item';
    el.innerHTML = `
      <img src="${it.img}" alt="${it.title}">
      <div style="flex:1">
        <div style="display:flex;justify-content:space-between;align-items:center">
          <div><strong>${it.title}</strong><div class="muted" style="font-size:0.85rem">${fmt(it.price)}</div></div>
          <div class="qty">
            <button class="icon-btn dec" data-id="${it.id}" aria-label="Decrease ${it.title} quantity">-</button>
            <div style="padding:6px 8px;border-radius:8px;background:#f8fafc">${it.qty}</div>
            <button class="icon-btn inc" data-id="${it.id}" aria-label="Increase ${it.title} quantity">+</button>
          </div>
        </div>
        <div style="margin-top:8px;display:flex;justify-content:space-between;align-items:center">
          <div class="muted" style="font-size:0.85rem">Total</div>
          <div style="font-weight:700">${fmt(it.price * it.qty)}</div>
        </div>
      </div>
    `;
    cartItems.appendChild(el);
  });

  subtotalEl.textContent = fmt(subtotal);
  cartTotals.style.display = '';
  cartActions.style.display = '';
  // attach inc/dec
  document.querySelectorAll('.inc').forEach(b=>b.addEventListener('click', e => changeQty(e.currentTarget.dataset.id, +1)));
  document.querySelectorAll('.dec').forEach(b=>b.addEventListener('click', e => changeQty(e.currentTarget.dataset.id, -1)));
}

// Simple announcer for screen readers (visually hidden)
function announce(msg){
  let region = document.getElementById('announcer');
  if(!region){
    region = document.createElement('div');
    region.id = 'announcer';
    region.className = 'sr-only';
    region.setAttribute('role','status');
    document.body.appendChild(region);
  }
  region.textContent = msg;
}

// Sorting / filtering / search
const qInput = document.getElementById('q');
const sortSelect = document.getElementById('sort');
const tabs = document.querySelectorAll('.tab');

function getFilters(){
  const search = qInput.value.trim().toLowerCase();
  const sort = sortSelect.value;
  const activeCat = Array.from(tabs).find(t=>t.classList.contains('active'))?.dataset.cat || 'all';
  return {search, sort, activeCat};
}

function applyFilters(){
  const {search, sort, activeCat} = getFilters();
  let list = PRODUCTS.slice();
  if(activeCat !== 'all') list = list.filter(p => p.category === activeCat);

  if(search) list = list.filter(p => p.title.toLowerCase().includes(search));

  if(sort === 'price-asc') list.sort((a,b)=>a.price-b.price);
  if(sort === 'price-desc') list.sort((a,b)=>b.price-a.price);
  renderProducts(list);
}

qInput.addEventListener('input', applyFilters);
sortSelect.addEventListener('change', applyFilters);

tabs.forEach(t => {
  t.addEventListener('click', (e) => {
    tabs.forEach(x=>x.classList.remove('active'));
    e.currentTarget.classList.add('active');
    applyFilters();
  });
});

// Clear filters
document.getElementById('clearFilters').addEventListener('click', () => {
  qInput.value=''; sortSelect.value='featured';
  tabs.forEach(t=>t.classList.remove('active'));
  document.querySelector('.tab[data-cat="all"]').classList.add('active');
  applyFilters();
});

// Checkout flow: simple modal-ish prompt
document.getElementById('checkoutBtn').addEventListener('click', () => {
  const items = getCartItems();
  if(items.length === 0) { alert('Your cart is empty.'); return; }
  const name = prompt('Enter name for checkout (demo):');
  if(!name) return;
  alert(`Thanks ${name}! Order placed for ${items.length} product(s).\nTotal: ${subtotalEl.textContent}`);
  cart = {};
  saveCart(cart);
  renderCart();
});

// Clear cart
document.getElementById('clearCartBtn').addEventListener('click', () => {
  if(!confirm('Clear cart?')) return;
  cart = {};
  saveCart(cart);
  renderCart();
});

// Open cart button (focuses sidebar)
openCartBtn.addEventListener('click', () => {
  const sidebar = document.getElementById('cartSidebar');
  sidebar.focus();
  openCartBtn.setAttribute('aria-expanded','true');
  announce('Cart opened');
});

// Mobile cart button
if(mobileOpenBtn){
  mobileOpenBtn.addEventListener('click', () => {
    // On small screens, scroll to bottom where cart exists (or open drawer if implemented)
    const cartSection = document.getElementById('cartSidebar');
    cartSection.scrollIntoView({behavior:'smooth', block:'center'});
    announce('Cart opened');
  });
}

// Persist search state to URL (optional)
window.addEventListener('popstate', applyFilters);

// Initial render
renderProducts();
renderCart();
applyFilters();

// Accessibility: keyboard shortcut "c" opens cart
window.addEventListener('keydown',(e)=>{
  if(e.key.toLowerCase()==='c' && !e.altKey && !e.ctrlKey && !e.metaKey){
    document.getElementById('cartSidebar').focus();
    announce('Cart focused');
  }
});
</script>
</body>
</html>


